{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExpenseSystem=()=>{const[category,setCategory]=useState('飛行機');const[file,setFile]=useState(null);const[feedback,setFeedback]=useState('');const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=async()=>{if(!file){alert('ファイルを選択してください。');return;}const formData=new FormData();formData.append('file',file);formData.append('category',category);try{const response=await axios.post('https://expense-backend-1-ubp4.onrender.com/api/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});setFeedback(response.data.feedback);}catch(error){console.error('エラーが発生しました。',error);setFeedback('エラーが発生しました。もう一度お試しください。');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl mb-4\",children:\"\\u7D4C\\u8CBB\\u7CBE\\u7B97\\u30B7\\u30B9\\u30C6\\u30E0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u30AB\\u30C6\\u30B4\\u30EA\\u3092\\u9078\\u629E:\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),className:\"ml-2 p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u98DB\\u884C\\u6A5F\",children:\"\\u98DB\\u884C\\u6A5F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u30DB\\u30C6\\u30EB\",children:\"\\u30DB\\u30C6\\u30EB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u30D0\\u30B9\",children:\"\\u30D0\\u30B9\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png, .jpg, .jpeg, .pdf\",onChange:handleFileChange})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"p-2 bg-blue-500 text-white rounded\",children:\"\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\"}),feedback&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 border rounded bg-gray-100\",children:/*#__PURE__*/_jsx(\"pre\",{children:feedback})})]});};export default ExpenseSystem;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ExpenseSystem","category","setCategory","file","setFile","feedback","setFeedback","handleFileChange","e","target","files","handleSubmit","alert","formData","FormData","append","response","post","headers","data","error","console","className","children","value","onChange","type","accept","onClick"],"sources":["/Users/kumagaiyumi/expense-frontend/src/components/ExpenseSystem.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst ExpenseSystem = () => {\n  const [category, setCategory] = useState('飛行機');\n  const [file, setFile] = useState(null);\n  const [feedback, setFeedback] = useState('');\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = async () => {\n    if (!file) {\n      alert('ファイルを選択してください。');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('category', category);\n\n    try {\n      const response = await axios.post('https://expense-backend-1-ubp4.onrender.com/api/upload', formData, {  \n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      setFeedback(response.data.feedback);\n    } catch (error) {\n      console.error('エラーが発生しました。', error);\n      setFeedback('エラーが発生しました。もう一度お試しください。');\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <h1 className=\"text-xl mb-4\">経費精算システム</h1>\n\n      <div className=\"mb-4\">\n        <label>カテゴリを選択:</label>\n        <select value={category} onChange={(e) => setCategory(e.target.value)} className=\"ml-2 p-2 border rounded\">\n          <option value=\"飛行機\">飛行機</option>\n          <option value=\"ホテル\">ホテル</option>\n          <option value=\"バス\">バス</option>\n        </select>\n      </div>\n\n      <div className=\"mb-4\">\n        <input type=\"file\" accept=\".png, .jpg, .jpeg, .pdf\" onChange={handleFileChange} />\n      </div>\n\n      <button onClick={handleSubmit} className=\"p-2 bg-blue-500 text-white rounded\">ファイルをアップロード</button>\n\n      {feedback && (\n        <div className=\"mt-4 p-4 border rounded bg-gray-100\">\n          <pre>{feedback}</pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ExpenseSystem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}